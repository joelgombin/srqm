\newcommand{\hlred}[1]{\textcolor{Maroon}{#1}}% prints in red

%%
%% Indexing of Stata commands.
%%

% \newcommand{\application}[1]{{\sffamily\subsection{#1}}}

% index for Stata commands: \cmd[shorthand]{command}
% ------------------------
\newcommand{\cmd}[2][]{%
	\ifthenelse{\isempty{#1}}%
		{% index command
			\hlred{\texttt{#2}}%
			\index{#2 command@\protect\texttt{#2}}% command name
		}%
		{% index command and shorthand
			\hlred{\texttt{#2}} (\hlred{\texttt{#1}})%
			\index{#2 command@\protect\texttt{#2} (shorthand: \texttt{#1})}%
		}%
}

% index external packages: \pkg{package} (on first instance of external command)
% -----------------------
\newcommand{\pkg}[1]{%
	\footnote{Requires the \cmd{#1} package, which installs from the online \SSC archive with the following command:\\\docmsg{ssc install #1}}%
	\index{#1 command@\protect\texttt{#1}!installation@\protect installation of the \texttt{#1} package}% command name
}

\newcommand{\opt}[2]{\hlred{\texttt{#1}}\index{#1@\texttt{#1} (option to \texttt{#2})}\xspace}
\newcommand{\abbr}[2]{\hlred{\texttt{#1}} (\hlred{\texttt{#2}})\index{#1@\texttt{#1} (\texttt{#2})}\xspace}
\newcommand{\coab}[3]{\hlred{\texttt{#1}} (\hlred{\texttt{#2}})\index{#1@\texttt{#1} (\texttt{#2}; option to \texttt{#3})}\xspace}


% Macros for typesetting the documentation

\newcommand{\hangleft}[1]{\makebox[0pt][r]{#1}}
\newcommand{\hairsp}{\hspace{1pt}}% hair space
\newcommand{\hquad}{\hskip0.5em\relax}% half quad space
\newcommand{\TODO}{\textcolor{red}{\bf TODO!}\xspace}
\newcommand{\ie}{\textit{i.\hairsp{}e.}\xspace}
\newcommand{\eg}{\textit{e.\hairsp{}g.}\xspace}
\newcommand{\na}{\quad--}% used in tables for N/A cells

\providecommand{\XeLaTeX}{X\lower.5ex\hbox{\kern-0.15em\reflectbox{E}}\kern-0.1em\LaTeX}
\newcommand{\tXeLaTeX}{\XeLaTeX\index{XeLaTeX@\protect\XeLaTeX}}

% \index{\texttt{\textbackslash xyz}@\hangleft{\texttt{\textbackslash}}\texttt{xyz}}
\newcommand{\doccmdnoindex}[2][]{\texttt{#2}}% command name -- adds backslash automatically (and doesn't add cmd to the index)

\newcommand{\doccmddef}[2][]{%
  \hlred{\texttt{#2}}\label{cmd:#2}%
  \ifthenelse{\isempty{#1}}%
    {% add the command to the index
      \index{#2 command@\protect\texttt{#2}}% command name
    }%
    {% add the command and package to the index
      \index{#2 command@\protect\texttt{#2} (\texttt{#1} package)}% command name
      \index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
    }%
}% command name -- adds backslash automatically

\newcommand{\doccmd}[2][]{%
  \texttt{#2}%
  \ifthenelse{\isempty{#1}}%
    {% add the command to the index
      \index{#2 command@\protect\texttt{#2}}% command name
    }%
    {% add the command and package to the index
      \index{#2 command@\protect\texttt{#2} (\texttt{#1} package)}% command name
      \index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}% package name
    }%
}% command name -- adds backslash automatically
\newcommand{\docopt}[1]{\ensuremath{\langle}\textrm{\textit{#1}}\ensuremath{\rangle}}% optional command argument
\newcommand{\docarg}[1]{\textrm{\textit{#1}}}% (required) command argument
\newenvironment{docspec}{\begin{quotation}\ttfamily\parskip0pt\parindent0pt\ignorespaces}{\end{quotation}}% command specification environment
\newcommand{\docenv}[1]{\texttt{#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name
\newcommand{\docenvdef}[1]{\hlred{\texttt{#1}}\label{env:#1}\index{#1 environment@\texttt{#1} environment}\index{environments!#1@\texttt{#1}}}% environment name
\newcommand{\docpkg}[1]{\texttt{#1}\index{#1 package@\texttt{#1} package}\index{packages!#1@\texttt{#1}}}% package name
\newcommand{\doccls}[1]{\texttt{#1}}% document class name
\newcommand{\docclsopt}[1]{\texttt{#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name
\newcommand{\docclsoptdef}[1]{\hlred{\texttt{#1}}\label{clsopt:#1}\index{#1 class option@\texttt{#1} class option}\index{class options!#1@\texttt{#1}}}% document class option name defined
% \newcommand{\docmsg}[2]{\bigskip\begin{fullwidth}\noindent\ttfamily#1\end{fullwidth}\medskip\par\noindent#2}


\newcommand{\docmsg}[2]{\medskip\noindent\texttt{#1}\medskip\par\noindent#2\bigskip}


\newcommand{\docfilehook}[2]{\texttt{#1}\index{file hooks!#2}\index{#1@\texttt{#1}}}
\newcommand{\doccounter}[1]{\texttt{#1}\index{#1 counter@\texttt{#1} counter}}

% Generates the index
\usepackage{makeidx}
\makeindex

